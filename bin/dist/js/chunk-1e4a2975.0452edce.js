(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e4a2975"],{"37aa":function(e,t,r){"use strict";r("909e")},"909e":function(e,t,r){},cdc7:function(e,t,r){e.exports=r.p+"img/alipay.40bee53c.jpg"},cf05:function(e,t,r){e.exports=r.p+"img/logo.9be6bc8a.png"},d079:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"div-relative ",attrs:{id:"band"}},[n("nav",{staticClass:"navbar  bg-primary fixed-top navbar-transparent ",attrs:{"color-on-scroll":"400"}},[n("div",{staticClass:"container"},[n("div",[n("a",{staticClass:"navbar-brand"},[e._v("\n          版本号: v2.2.0\n        ")]),e.switchCode?n("Button",{attrs:{type:"default",ghost:""},on:{click:function(t){e.register=!0}}},[e._v(" 注册")]):e._e()],1),n("div",[n("ul",[n("li",[n("Button",{attrs:{type:"default",ghost:""},on:{click:function(t){e.sponsorship=!0}}},[e._v("赞助")])],1),n("li",[n("div",{staticStyle:{"margin-left":"50%"}},[n("a",{attrs:{href:"https://github.com/cookieY/Yearning",target:"_blank"}},[n("Icon",{attrs:{type:"logo-github",size:"30"}})],1)])])])])])]),n("div",{staticClass:"page-header div-a",attrs:{"filter-color":"orange"}},[n("div",{staticClass:"page-header-image"}),n("div",{staticClass:"container"},[n("div",{staticClass:"content-center"},[n("div",{staticClass:"card"},[n("form",{staticStyle:{width:"45%","margin-left":"25%"}},[n("img",{attrs:{src:r("cf05"),width:"80%"}}),n("div",{staticClass:"input-group form-group-no-border input-lg"},[n("span",{staticClass:"input-group-addon"},[n("Icon",{attrs:{type:"md-person"}})],1),n("input",{directives:[{name:"model",rawName:"v-model",value:e.formInline.user,expression:"formInline.user"}],staticClass:"form-control",attrs:{type:"text",placeholder:"用户名"},domProps:{value:e.formInline.user},on:{input:function(t){t.target.composing||e.$set(e.formInline,"user",t.target.value)}}})]),n("div",{staticClass:"input-group form-group-no-border input-lg"},[n("span",{staticClass:"input-group-addon"},[n("Icon",{attrs:{type:"md-key"}})],1),n("input",{directives:[{name:"model",rawName:"v-model",value:e.formInline.password,expression:"formInline.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"密码"},domProps:{value:e.formInline.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.authdata(t)},input:function(t){t.target.composing||e.$set(e.formInline,"password",t.target.value)}}})]),n("div",{staticClass:"footer text-center"},[n("Checkbox",{model:{value:e.single,callback:function(t){e.single=t},expression:"single"}},[e._v(" ldap登录")]),n("a",{staticClass:"btn btn-primary btn-round btn-lg btn-block",attrs:{href:"#pablo"},on:{click:function(t){return e.authdata()}}},[e._v("\n               登录")])],1)])])])]),n("footer",{staticClass:"footer"},[n("div",{staticClass:"container"},[n("nav",[n("ul",[n("li",[n("Tooltip",{attrs:{content:"yearning.io",placement:"top-start"}},[n("a",{staticClass:"nav-link",attrs:{href:"https://yearning.io"}},[e._v("\n                  关于Yearning\n                ")])])],1),n("li",[n("Tooltip",{attrs:{content:"Q群:747364310",placement:"top-start"}},[n("span",{staticClass:"nav-link"},[e._v("\n                  使用交流群\n                ")])])],1),e._m(0)])]),n("div",{staticClass:"copyright"},[e._v(" © 2019 HenryYee 请使用Chrome浏览器获得最佳体验")])])])]),n("Modal",{attrs:{title:"注册","ok-text":"注册","mask-closable":!1},on:{"on-ok":e.LoginRegister},model:{value:e.register,callback:function(t){e.register=t},expression:"register"}},[n("Form",{ref:"userinfova",attrs:{model:e.userinfo,rules:e.userinfoValidate}},[n("FormItem",{attrs:{label:"请输入用户名",prop:"username"}},[n("Input",{model:{value:e.userinfo.username,callback:function(t){e.$set(e.userinfo,"username",t)},expression:"userinfo.username"}})],1),n("FormItem",{attrs:{label:"请输入密码",prop:"password"}},[n("Input",{attrs:{type:"password"},on:{"on-keyup":function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.authdata()}},model:{value:e.userinfo.password,callback:function(t){e.$set(e.userinfo,"password",t)},expression:"userinfo.password"}})],1),n("FormItem",{attrs:{label:"请确认新密码",prop:"confirmpassword"}},[n("Input",{attrs:{type:"password"},model:{value:e.userinfo.confirmpassword,callback:function(t){e.$set(e.userinfo,"confirmpassword",t)},expression:"userinfo.confirmpassword"}})],1),n("FormItem",{attrs:{prop:"realname",label:"真实姓名"}},[n("Input",{model:{value:e.userinfo.realname,callback:function(t){e.$set(e.userinfo,"realname",t)},expression:"userinfo.realname"}})],1),n("FormItem",{attrs:{prop:"department",label:"部门"}},[n("Input",{model:{value:e.userinfo.department,callback:function(t){e.$set(e.userinfo,"department",t)},expression:"userinfo.department"}})],1),n("FormItem",{attrs:{prop:"email",label:"电子邮箱"}},[n("Input",{model:{value:e.userinfo.email,callback:function(t){e.$set(e.userinfo,"email",t)},expression:"userinfo.email"}})],1)],1)],1),n("Modal",{attrs:{title:"让Yearning持续提供更好的功能与服务",width:"640"},model:{value:e.sponsorship,callback:function(t){e.sponsorship=t},expression:"sponsorship"}},[n("h3",[e._v(" 赞助后你可以得到的")]),e._v("\n    联系作者将自己的名字添加到赞助者名单中\n\n    对于顶级赞助商，可将公司或个人logo添加到项目首页README当中，并优先考虑对该企业或个人的需求进行开发。\n    "),n("br"),n("br"),n("h3",[e._v("定制化需求")]),e._v("\n    企业可根据实际需要向Yearning作者寻求定制功能服务。\n    "),n("br"),n("br"),n("h3",[e._v("联系方式")]),e._v("\n    电邮：supermancookie@outlook.com\n    "),n("br"),e._v("\n    QQ: 834958386\n    "),n("br"),n("img",{attrs:{height:"300",width:"300",src:r("cdc7")}}),n("img",{attrs:{height:"300",width:"300",src:r("e660")}})])],1)},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",[r("a",{staticClass:"nav-link",attrs:{href:"https://www.gnu.org/licenses/agpl-3.0.en.html"}},[e._v("\n                AGPL3.0\n              ")])])}],a=r("bc3a"),o=r.n(a),i={name:"Login",data:function(){var e=this,t=function(t,r,n){r!==e.userinfo.password?n(new Error("输入的密码不一致")):n()},r=function(t,r,n){var s=/^.*(?=.{6,})(?=.*\d)(?=.*[A-Z])(?=.*[a-z]).*$/;s.test(e.userinfo.password)?n():n(new Error("至少1个大写字母，1个小写字母，1个数字"))};return{single:!0,switchCode:!1,sponsorship:!1,register:!1,userinfo:{username:"",password:"",confirmpassword:"",email:"",realname:"",department:""},userinfoValidate:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"请输入至少6个字符",trigger:"blur"},{max:32,message:"最多输入32个字符",trigger:"blur"},{validator:r,trigger:"blur"}],confirmpassword:[{required:!0,message:"请确认新密码",trigger:"blur"},{validator:t,trigger:"blur"}],realname:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],department:[{required:!0,message:"请输入部门名",trigger:"blur"}],email:[{required:!0,message:"请输入E-mail",trigger:"blur"},{type:"email",message:"E-mail格式错误",trigger:"blur"}]},formInline:{user:"",password:""}}},methods:{LoginRegister:function(){var e=this;this.$refs["userinfova"].validate((function(t){t?o.a.post(e.$config.register,{userinfo:e.userinfo}).then((function(t){e.$config.notice(t.data),e.$config.clearObj(e.userinfo)})).catch((function(t){e.$config.err_notice(e,t)})):e.$config.err_notice("请正确填写相关注册信息")}))},authdata:function(){var e=this,t=this.$config.auth;!0===this.single&&(t="".concat(this.$config.gen,"/ldap")),o.a.post(t,{username:this.formInline.user,password:this.formInline.password}).then((function(t){o.a.defaults.headers.common["Authorization"]="Bearer "+t.data.token,sessionStorage.setItem("user",e.formInline.user),sessionStorage.setItem("jwt","Bearer ".concat(t.data.token)),sessionStorage.setItem("auth",t.data["permissions"]),sessionStorage.setItem("real_name",t.data["real_name"]);var r=t.data["permissions"];"admin"===r||"perform"===r?sessionStorage.setItem("access",0):sessionStorage.setItem("access",1),e.$router.push({name:"home_index"})})).catch((function(t){e.$config.auth_notice(t)}))}},mounted:function(){var e=this;window.particlesJS.load("band","".concat("/","particlesjs-config.json")),o.a.get("".concat(this.$config.gen,"/fetch")).then((function(t){1===t.data&&(e.switchCode=!0)})).catch((function(t){return e.$config.auth_notice(t)}))}},l=i,c=(r("37aa"),r("2877")),u=Object(c["a"])(l,n,s,!1,null,"1f22ed86",null);t["default"]=u.exports},e660:function(e,t,r){e.exports=r.p+"img/wechat.adf7f4f7.jpg"}}]);
//# sourceMappingURL=chunk-1e4a2975.0452edce.js.map