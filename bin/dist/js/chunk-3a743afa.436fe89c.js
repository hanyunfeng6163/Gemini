(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a743afa"],{"0df8":function(t,e,r){"use strict";r("5aa6")},"2d79":function(t,e,r){"use strict";var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Modal",{attrs:{width:800,"z-index":9999},on:{"on-ok":t.is_post},model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[r("h3",{staticStyle:{color:"#2D8CF0"},attrs:{slot:"header"},slot:"header"},[t._v("用户权限")]),r("Form",{attrs:{"label-width":120,"label-position":"top"}},[r("FormItem",{attrs:{label:"用户名"}},[r("Input",{attrs:{readonly:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),r("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.is_admin,expression:"is_admin"}],attrs:{label:"权限组"}},[r("Select",{attrs:{clearable:"",multiple:""},on:{"on-change":t.marge_group},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}},t._l(t.group_list,(function(t){return r("Option",{key:t.Name,attrs:{value:t.Name,label:t.Name}})})),1)],1),[r("FormItem",{attrs:{label:"DDL及索引权限:"}},["1"===t.permission.ddl?r("Tag",{attrs:{color:"success"}},[t._v("是")]):r("Tag",{attrs:{color:"volcano"}},[t._v("否")])],1),"1"===t.permission.ddl?[r("FormItem",{attrs:{label:"数据源:"}},t._l(t.permission.ddl_source,(function(e){return r("Tag",{key:e,attrs:{color:"purple"}},[t._v(" "+t._s(e))])})),1)]:t._e(),r("hr",{staticStyle:{height:"1px",border:"none","border-top":"1px dashed #dddee1"}}),r("br"),r("FormItem",{attrs:{label:"DML权限:"}},["1"===t.permission.dml?r("Tag",{attrs:{color:"success"}},[t._v("是")]):r("Tag",{attrs:{color:"volcano"}},[t._v("否")])],1),"1"===t.permission.dml?[r("FormItem",{attrs:{label:"数据源:"}},t._l(t.permission.dml_source,(function(e){return r("Tag",{key:e,attrs:{color:"geekblue"}},[t._v(" "+t._s(e))])})),1)]:t._e(),r("hr",{staticStyle:{height:"1px",border:"none","border-top":"1px dashed #dddee1"}}),r("br"),r("FormItem",{attrs:{label:"数据查询权限:"}},["1"===t.permission.query?r("Tag",{attrs:{color:"success"}},[t._v("是")]):r("Tag",{attrs:{color:"volcano"}},[t._v("否")])],1),"1"===t.permission.query?[r("FormItem",{attrs:{label:"数据源:"}},t._l(t.permission.query_source,(function(e){return r("Tag",{key:e,attrs:{color:"blue"}},[t._v(" "+t._s(e))])})),1)]:t._e(),r("hr",{staticStyle:{height:"1px",border:"none","border-top":"1px dashed #dddee1"}}),r("br"),r("FormItem",{attrs:{label:"选择上级审核人:"}},t._l(t.permission.auditor,(function(e){return r("Tag",{key:e,attrs:{color:"cyan"}},[t._v(" "+t._s(e))])})),1)],r("hr",{staticStyle:{height:"1px",border:"none","border-top":"1px dashed #dddee1"}}),r("br"),r("FormItem",{attrs:{label:"用户管理权限:"}},["1"===t.permission.user?r("Tag",{attrs:{color:"success"}},[t._v("是")]):r("Tag",{attrs:{color:"volcano"}},[t._v("否")])],1),r("hr",{staticStyle:{height:"1px",border:"none","border-top":"1px dashed #dddee1"}}),r("br"),r("FormItem",{attrs:{label:"数据库管理权限:"}},["1"===t.permission.base?r("Tag",{attrs:{color:"success"}},[t._v("是")]):r("Tag",{attrs:{color:"volcano"}},[t._v("否")])],1)],2)],1)},n=[],s=r("bc3a"),a=r.n(s),i={name:"edit_rule",props:{is_open:Boolean,username:String,is_admin:Boolean,group_list:Array,group_props:Array},data:function(){return{permission:{ddl:"0",ddl_source:[],dml:"0",dml_source:[],query:"0",query_source:[],user:"0",base:"0",auditor:[]},post_group:[]}},computed:{open:{get:function(){return this.is_open},set:function(){this.$emit("cancel")}},group:{get:function(){return this.group_props},set:function(t){this.post_group=t}}},methods:{is_post:function(){var t=this;this.is_admin&&a.a.post("".concat(this.$config.url,"/group/update"),{username:this.username,permission:this.permission,group:this.post_group}).then((function(e){t.$config.notice(e.data),t.$emit("success")})).catch((function(e){t.$config.err_notice(t,e)}))},marge_group:function(t){var e=this,r=[];null!==t&&(r=t),a.a.post("".concat(this.$config.url,"/group/fetch/marge"),{user:this.username,group:r}).then((function(t){e.permission=t.data})).catch((function(t){return e.$config.err_notice(e,t)}))}}},c=i,u=r("2877"),l=Object(u["a"])(c,o,n,!1,null,"64c18470",null);e["a"]=l.exports},"4a4d":function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Row",[r("Card",[r("p",{attrs:{slot:"title"},slot:"title"},[r("Icon",{attrs:{type:"ios-crop"}}),t._v("\n        用户权限\n      ")],1),r("div",[r("Input",{staticClass:"margin-left-10",staticStyle:{width:"15%"},attrs:{placeholder:"请填写用户名",clearable:""},model:{value:t.query.username,callback:function(e){t.$set(t.query,"username",e)},expression:"query.username"}}),r("Button",{staticClass:"margin-left-10",attrs:{type:"success"},on:{click:t.queryData}},[t._v("查询")]),r("Button",{staticClass:"margin-left-10",attrs:{type:"warning"},on:{click:t.queryCancel}},[t._v("重置")]),r("br"),r("br"),r("Table",{attrs:{border:"",columns:t.columns,data:t.data6,stripe:"",height:"550"},scopedSlots:t._u([{key:"action",fn:function(e){var o=e.row;return[r("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"info",size:"small"},on:{click:function(e){return t.edit_rule(o)}}},[t._v("\n              查看与编辑\n            ")])]}}])})],1),r("br"),r("Page",{ref:"total",attrs:{total:t.page_number,"show-elevator":"","page-size":10},on:{"on-change":t.fetch_info}})],1)],1),r("edit_rule",{attrs:{is_admin:"",is_open:t.is_open,username:t.rule_form.username,group_list:t.group_list,group_props:t.rule_form.group},on:{cancel:t.cancel,success:t.post_ok}})],1)},n=[],s=r("bc3a"),a=r.n(s),i=r("2d79"),c=r("e4fc"),u={name:"auth-group",mixins:[c["a"]],components:{edit_rule:i["a"]},data:function(){return{query:{username:"",valve:!1},page_number:1,data6:[],columns:[{title:"ID",key:"ID",width:85,sortable:!0},{title:"用户名",key:"Username",sortable:!0},{title:"操作",key:"action",align:"center",slot:"action"}],rule_form:{username:"",group:[]}}},methods:{edit_rule:function(t){this.rule_form={username:t.Username,group:t.Group},this.is_open=!0},fetch_info:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page_num=e,a.a.get("".concat(this.$config.url,"/group?page=").concat(e,"&con=").concat(JSON.stringify(this.query))).then((function(e){t.data6=e.data.data,t.group_list=e.data.group_list,t.page_number=parseInt(e.data.page)})).catch((function(e){t.$config.err_notice(t,e)}))},queryData:function(){this.query.valve=!0,this.fetch_info()},queryCancel:function(){this.$config.clearObj(this.query),this.fetch_info()},cancel:function(){this.is_open=!1,this.rule_form.group=[]},post_ok:function(){this.fetch_info(this.page_num)}},mounted:function(){this.fetch_info()}},l=u,p=(r("0df8"),r("2877")),d=Object(p["a"])(l,o,n,!1,null,"14388e30",null);e["default"]=d.exports},"5aa6":function(t,e,r){},e4fc:function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return n}));var o={data:function(){return{edit_password:!1,savePassLoading:!1}},methods:{cancel_password:function(){this.edit_password=!1}}},n={data:function(){return{is_open:!1,group_list:[],group_props:[]}}}}}]);
//# sourceMappingURL=chunk-3a743afa.436fe89c.js.map